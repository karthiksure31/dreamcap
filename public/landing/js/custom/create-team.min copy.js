$((function(){var dataSet=[],countPlayers=0,countWk=0,countBat=0,countAll=0,countBowl=0,countCreditPoints=0,countMinMaxTeam1=0,countMinMaxTeam2=0,playerDetails=[],capVcDetails=[];$(".checkedTeam").on("click",(function(){var checkOrUnchecked=this.checked?"checked":"unchecked",rowVal=$(this).val(),teamOneID=parseInt($("#teamOneID").val()),teamTwoID=parseInt($("#teamTwoID").val()),thisID=$(this).attr("id"),myArray=rowVal.split("|"),points=parseFloat(myArray[1]),position=myArray[2],teamID=parseInt(myArray[3]);if("checked"==checkOrUnchecked&&($(".showHide").find("#"+thisID).show(),$(".showHide").find("#"+thisID).prop("checked",!1),playerDetails.push(thisID),countPlayers+=1,$("#totalPlayers").html(countPlayers),teamID==teamOneID&&(countMinMaxTeam1+=1),teamID==teamTwoID&&(countMinMaxTeam2+=1),"Wk"==position&&(countWk+=1),"Bat"==position&&(countBat+=1),"All"==position&&(countAll+=1),"Bowl"==position&&(countBowl+=1)),"unchecked"==checkOrUnchecked){$(".showHide").find("#"+thisID).hide();var Index=playerDetails.indexOf(thisID);playerDetails.splice(Index,1),countPlayers-=1,$("#totalPlayers").html(countPlayers),teamID==teamOneID&&(countMinMaxTeam1-=1),teamID==teamTwoID&&(countMinMaxTeam2-=1),"Wk"==position&&(countWk-=1),"Bat"==position&&(countBat-=1),"All"==position&&(countAll-=1),"Bowl"==position&&(countBowl-=1)}})),$(".capRadio input[type=radio][name=captain]").on("click",(function(){var thisID=$(this).attr("id"),vcCheck;$(".vcRadio").find("#"+thisID).is(":checked")&&$(".vcRadio").find("#"+thisID).prop("checked",!1)})),$(".vcRadio input[type=radio][name=vc_captain]").on("click",(function(){var thisID=$(this).attr("id"),capCheck;$(".capRadio").find("#"+thisID).is(":checked")&&$(".capRadio").find("#"+thisID).prop("checked",!1)})),$("#generateTeam").on("click",(function(){var totalPlayer;if(countMinMaxTeam1+countMinMaxTeam2<11)return toastr.warning("You must select at least 11 players"),!1;if(!(countMinMaxTeam1>=4&&countMinMaxTeam2>=4))return toastr.warning("Select 4 minimum from one side"),!1;if(!(countWk>0&&countBat>=3&&countAll>0&&countBowl>=3))return toastr.warning("Select a minimum of 1 wicketkeeper, 3 batsmen, 1 all-rounder, and 4 bowlers"),!1;var captainVal=$("input[name='captain']:checked").val(),vcCaptainVal=$("input[name='vc_captain']:checked").val();if(!captainVal||!vcCaptainVal)return toastr.warning("Choose your captain and vice captain"),!1;(capVcDetails=[]).push(captainVal),capVcDetails.push(vcCaptainVal),tempPlayerDetails=playerDetails,tempPlayerDetails=tempPlayerDetails.filter((function(val){return-1==capVcDetails.indexOf(val)}));var seriesID=$("#seriesID").val();$.ajax({url:createTeamUrl,cache:!1,method:"post",data:{series_id:seriesID,player_details:tempPlayerDetails,cap_vc_details:capVcDetails},headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},dataType:"json",success:function(response){$("#captainName").html(response.captain),$("#vcCaptainName").html(response.vc),showDataTable(response.data),toastr.success("Successfully generated by your team")}})})),showDataTable(dataSet)}));